;/*FB_PKG_DELIM*/

__d("CometSuspenseList.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.unstable_SuspenseList;g["default"]=b}),98);
__d("useCometIgnoreLateMutation",["InteractionTracing","InteractionTracingMetrics","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){return i(function(b){b&&a&&c("InteractionTracing").getPendingInteractions().forEach(function(a){a=c("InteractionTracingMetrics").get(a.getTraceId());a!=null&&a.lateMutationIgnoreElements.add(b)})},[a])}g["default"]=a}),98);
__d("MAWMiActOnMiThreadReadyForChatIdDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnMiThreadReadyForChatId").__setRef("MAWMiActOnMiThreadReadyForChatIdDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onMiThreadReadyForChatId;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){a=a[0];var f=d("ReQL").fromTableAscending(b.tables.threads.index("clientThreadKey")).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){e(a);return f()}})}g.onAuthoritativeThreadInsert=a}),98);
__d("MAWCreateAndWaitForAuthoritativeOneToOneThread",["I64","LSIntEnum","LSResult","MAWCreateOneToOneThread","MAWMiActOnMiThreadReadyForChatIdDeferred","MWV2OnAuthoritativeThreadInsert","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,f,g){c("promiseDone")(d("MAWCreateOneToOneThread").call(a,e,void 0,f).then(function(e){return a.runInTransaction(function(k){return c("MAWMiActOnMiThreadReadyForChatIdDeferred")(k,e.chatId,f,function(f,k){k!=null&&(e.created?d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(k),a,function(a){return g(a.threadKey,a.clientThreadKey,a.threadType)}):g(k,(i||(i=d("I64"))).of_int32(e.chatId),(j||(j=d("LSIntEnum"))).ofNumber(15)));return(h||(h=b("Promise"))).resolve()})},"readwrite")}))}g["default"]=a}),98);
__d("useMWPCreateOneToOneThreadThenNavigate",["MAWCreateAndWaitForAuthoritativeOneToOneThread","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,b){var d=(h||(h=c("useReStore")))(),e=j(function(c,d,e){return a.openTabOrInbox({clientThreadKey:d,threadKey:c,threadType:e},(d=b)!=null?d:"groupMembers")},[b,a]);return j(function(a){c("MAWCreateAndWaitForAuthoritativeOneToOneThread")(d,a,"MWPCreateOneToOneThreadThenNavigate",e)},[d,e])}g["default"]=a}),98);
__d("useIGDChannelCreatorContact",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["isAdmin"]).getKeyRange(a).filter(function(a){return a.isAdmin===!0}),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){a[0];a=a[1];return a})},[b,a],f.id+":24");return(e=e)!=null?e:null}g["default"]=a}),98);
__d("IGDBroadcastChannelAvatar.react",["IGDAvatarGlimmer.react","IGDSingleAvatar.react","getLSMediaContactProfilePictureUrl","react","useIGDChannelCreatorContact"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d=a.isActive,e=a.isMobile,f=a.size;a=a.threadKey;a=c("useIGDChannelCreatorContact")(a);var g;b[0]!==a||b[1]!==d||b[2]!==e||b[3]!==f?(g=a!==null?j.jsx(c("IGDSingleAvatar.react"),{isActive:d,isMobile:e,size:f,src:c("getLSMediaContactProfilePictureUrl")(a)}):j.jsx(c("IGDAvatarGlimmer.react"),{isMobile:e,size:f}),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("useGetContactsToShow",["I64","LSMessagingThreadTypeUtil","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=function(a){return a.filter(function(a){return!(h||(h=d("I64"))).equal(a.id,e)})},g=b.length,i=[];if(g!==0){var j=b[0],k=b[1];f=f(b.filter(Boolean).filter(function(a){return c("getLSMediaContactProfilePictureUrl")(a)!==""}));switch(g){case 1:j!=null&&c("getLSMediaContactProfilePictureUrl")(j)!==""&&(i=[j]);break;case 2:d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&f.length===1&&c("getLSMediaContactProfilePictureUrl")(f[0])!==""?i=[f[0]]:d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&j!=null&&k!=null&&c("getLSMediaContactProfilePictureUrl")(j)!==""&&c("getLSMediaContactProfilePictureUrl")(k)!==""&&(i=[j,k]);break;default:f.length>=2&&(i=f)}}return i.sort(function(a,b){return b.rank-a.rank}).slice(0,2)}g["default"]=a}),98);
__d("useMWFacepileGetContactsToShow",["I64","LSAuthorityLevel","MWPActor.react","ReQL","ReQLSuspense","useGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){e===void 0&&(e=!1);var g=d("MWPActor.react").useActor(),j=(i||(i=c("useReStore")))(),k=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(j.tables.contacts,["rank","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id","name","authorityLevel"])).filter(function(a){return!e||a[1]!=null&&e&&(h||(h=d("I64"))).to_int32(a[1].authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}).take(3)},[j,a,e],f.id+":59").map(function(a){a[0];a=a[1];return a});return c("useGetContactsToShow")({threadKey:a,threadType:b},k,g)}g["default"]=a}),98);
__d("IGDAvatar.react",["I64","IGDAvatarGlimmer.react","IGDBroadcastChannelAvatar.react","IGDFacepile.react","IGDSingleAvatar.react","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","react","useIGDDeviceType","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.memo;var k=b.unstable_useMemoCache;function l(a){var b=k(30),e=a.isActive,f=a.isMobile,g=a.size;a=a.thread;var h=c("useMWFacepileGetContactsToShow")(a.threadKey,a.threadType),l=h==null?void 0:h.length,m=d("MWPActor.react").useActor();if(l===1){var n=h[0],o;b[0]!==n?(o=c("getLSMediaContactProfilePictureUrl")(n),b[0]=n,b[1]=o):o=b[1];n=o;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==n?(o=j.jsx(c("IGDSingleAvatar.react"),{isActive:e,isMobile:f,size:g,src:n}),b[2]=e,b[3]=f,b[4]=g,b[5]=n,b[6]=o):o=b[6];return o}else if(l===2){n=h[0];b[7]!==n?(o=c("getLSMediaContactProfilePictureUrl")(n),b[7]=n,b[8]=o):o=b[8];l=o;n=h[1];b[9]!==n?(o=c("getLSMediaContactProfilePictureUrl")(n),b[9]=n,b[10]=o):o=b[10];n=o;o=d("LSMessagingThreadTypeUtil").isPartnership(a.threadSubtype);if(o){b[11]!==h||b[12]!==m?(a=(i||(i=d("I64"))).equal(h[0].id,m)?h[1]:h[0],b[11]=h,b[12]=m,b[13]=a):a=b[13];o=a;b[14]!==o?(h=c("getLSMediaContactProfilePictureUrl")(o),b[14]=o,b[15]=h):h=b[15];b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==h?(m=j.jsx(c("IGDSingleAvatar.react"),{isActive:e,isMobile:f,size:g,src:h}),b[16]=e,b[17]=f,b[18]=g,b[19]=h,b[20]=m):m=b[20];return m}b[21]!==g||b[22]!==e||b[23]!==f||b[24]!==l||b[25]!==n?(a=g==="micro"?j.jsx(c("IGDSingleAvatar.react"),{isActive:e,isMobile:f,size:g,src:l}):j.jsx(c("IGDFacepile.react"),{firstParticipantURI:l,isActive:e,isMobile:f,secondParticipantURI:n,size:g}),b[21]=g,b[22]=e,b[23]=f,b[24]=l,b[25]=n,b[26]=a):a=b[26];return a}else{b[27]!==f||b[28]!==g?(o=j.jsx(c("IGDAvatarGlimmer.react"),{isMobile:f,size:g}),b[27]=f,b[28]=g,b[29]=o):o=b[29];return o}}function a(a){var b=k(11),e=a.isActive,f=a.size;a=a.thread;e=e===void 0?!1:e;var g=d("useIGDDeviceType").useIGDDeviceType();g=g.isMobile;var h;b[0]!==a?(h=c("getLSMediaThreadPictureUrl")(a),b[0]=a,b[1]=h):h=b[1];h=h;var i;b[2]!==a.threadSubtype?(i=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),b[2]=a.threadSubtype,b[3]=i):i=b[3];i=i;var m;b[4]!==h||b[5]!==e||b[6]!==g||b[7]!==f||b[8]!==i||b[9]!==a?(m=h!=null?j.jsx(c("IGDSingleAvatar.react"),{isActive:e,isMobile:g,size:f,src:h}):i?j.jsx(c("IGDBroadcastChannelAvatar.react"),{isActive:e,isMobile:g,size:f,threadKey:a.threadKey}):j.jsx(l,{isActive:e,isMobile:g,size:f,thread:a}),b[4]=h,b[5]=e,b[6]=g,b[7]=f,b[8]=i,b[9]=a,b[10]=m):m=b[10];return m}f=e(a);g["default"]=f}),98);
__d("IGDSCallPanoFilled24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M18.227 22.912c-4.913 0-9.286-3.627-11.486-5.828C4.486 14.83.731 10.291.921 5.231a3.289 3.289 0 0 1 .908-2.138 17.116 17.116 0 0 1 1.865-1.71 2.308 2.308 0 0 1 3.004.174 13.283 13.283 0 0 1 3.658 5.325 2.551 2.551 0 0 1-.19 1.941l-.455.853a.463.463 0 0 0-.024.387 7.57 7.57 0 0 0 4.077 4.075.46.46 0 0 0 .386-.024l.853-.455a2.553 2.553 0 0 1 1.94-.19 13.278 13.278 0 0 1 5.326 3.658 2.309 2.309 0 0 1 .174 3.003 17.319 17.319 0 0 1-1.71 1.866 3.29 3.29 0 0 1-2.138.91 10.27 10.27 0 0 1-.368.006Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("useIsIGDDisappearingMessagesEnabledForThread",["DisappearingMessagesMode","I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.ig_thread_info,["igDmSettingsMode","igThreadId"]).getKeyRange(a).take(1)},[b,a],f.id+":25");e=(h||(h=d("I64"))).to_int32((e=e==null?void 0:e.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero);return e===c("DisappearingMessagesMode").ON}g["default"]=a}),98);
__d("useIGDIsE2EECallingEnabled",["IGDInstamadilloUtils","MWLSThread","react","useIsIGDDisappearingMessagesEnabledForThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(2),e=c("useIsIGDDisappearingMessagesEnabledForThread")(a);a=d("MWLSThread").useThread(a);var f;b[0]!==a?(f=d("IGDInstamadilloUtils").isInstamadilloCutover(a),b[0]=a,b[1]=f):f=b[1];a=f;return e||a}g["default"]=a}),98);
__d("IGDJoinCallButton.react",["FBLogger","I64","IGDSCallPanoFilled24Icon.react","IGDSVideoChatFilled24Icon.react","Int64Hooks","LSIntEnum","MWPActor.react","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCorePressable.react","PolarisIGCoreText","ReQL","ZenonRTWebBrowserFeatureSupport","asyncToGeneratorRuntime","cr:1009","gkx","promiseDone","react","useAsyncReStore","useIGDIsE2EECallingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.isVideo,f=e===void 0?!1:e,g=a.serverInfoData,h=a.threadKey,l=a.threadType,m=c("useAsyncReStore")(),n=d("MWPActor.react").useActor(),o=c("useIGDIsE2EECallingEnabled")(h),p=b("cr:1009")==null?void 0:b("cr:1009").useStartCallCallback();e=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(a(),function(a){},function(a){c("FBLogger")("ig_web").catching(a).mustfix("Unable to start call")});function a(){return e.apply(this,arguments)}function e(){e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=(yield m),e=(yield (a=d("ReQL")).firstAsync(a.fromTableAscending(b.tables.ig_thread_info,["igThreadId"]).getKeyRange(h).map(function(a){return a.igThreadId})));d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","join_button_click",{has_video:f,ig_thread_id:e,server_info_data:g});var k=(yield a.firstAsync(a.fromTableAscending(b.tables.mi_act_mapping_table,["jid"]).getKeyRange(h).map(function(a){return a.jid})));a=(yield a.toArrayAsync(a.mergeJoin(a.fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(h).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,n)}),a.fromTableAscending(b.tables.ig_contact_info,[])).map(function(a){a=a[0];return(i||(i=d("I64"))).to_string(a.contactId)})));b=a[0];o&&p?yield p({existingCall:null,extra:{igThreadId:e},invitees:a,isE2eeMandated:o,mediaType:f?"video":"audio",thread:{e2eeThreadID:k!=null?(i||(i=d("I64"))).to_string(k):void 0,id:(i||(i=d("I64"))).to_string(h),secureOneToOneThreadPeerId:(i||(i=d("I64"))).to_int32(l)===15&&b!=null?b:void 0,type:(j||(j=d("LSIntEnum"))).unwrapIntEnum(l)},trigger:f?"direct_armadillo_start_video_call":"direct_armadillo_start_audio_call"}):e!=null?d("PolarisCallNavigator").launchCall(e,f,g):c("FBLogger")("ig_web").mustfix("Unable to join call - missing thread id")});return e.apply(this,arguments)}},[m,h,f,g,o,p,n,l]);a=c("useIGDIsE2EECallingEnabled")(h);return a&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("24009"))?null:k.jsx("div",{className:"x6s0dn4 x78zum5 x1gslohp xw3qccf x12nagc xsgj6o6",children:k.jsx(c("PolarisIGCorePressable.react"),{onPress:e,children:k.jsxs("div",{className:"x1836swx x107yiy2 xv8uw2v x1tfwpuw x2g32xy x78zum5 xazcve0 xwib8y2 xn6708d x1ye3gou x1y1aw1k xtvhhri",children:[k.jsx("div",{className:"x6s0dn4 x78zum5 xw3qccf",children:f?k.jsx(c("IGDSVideoChatFilled24Icon.react"),{alt:d("PolarisDirectStrings").VIDEO_CALL_STRING,color:"web-always-white",size:14}):k.jsx(c("IGDSCallPanoFilled24Icon.react"),{alt:d("PolarisDirectStrings").AUDIO_CALL_STRING,color:"web-always-white",size:14})}),k.jsx(c("PolarisIGCoreText").Body2Emphasized,{color:"web-always-white",display:"truncated",weight:"semibold",zeroMargin:!0,children:d("PolarisDirectStrings").JOIN_STRING})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDVisibilityAware.react",["clearTimeout","intersectionObserverEntryIsIntersecting","mergeRefs","react","setTimeout","useIntersectionObserver","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=i.unstable_Activity;function a(a){var b=a.children,d=a.root;d=d===void 0?null:d;var e=a.rootMargin;a=a.threshold;a=a===void 0?0:a;var f=m(!0),g=f[0],h=f[1];f=m(!1);var k=f[0],p=f[1],q=o();f=j(function(a){a=c("intersectionObserverEntryIsIntersecting")(a);h(a);a?q("immediate",function(){p(!1)}):q("idle",function(){p(!0)})},[q]);f=c("useIntersectionObserver")(f,{root:d,rootMargin:e,threshold:a});var r=l();d=j(function(a){g&&(r.current=a.height)},[g]);e=c("useResizeObserver")(d);a=c("mergeRefs")(f,e);return i.jsx("div",{className:"x13dflua x19991ni",ref:a,style:{height:!g&&r.current!=null?r.current+"px":void 0,opacity:g?1:0},children:k?null:i.jsx(n,{mode:g?"visible":"hidden",children:b})})}a.displayName=a.name+" [from "+f.id+"]";function o(){var a=l(null),b=l(null),d=j(function(){a.current!=null&&(c("clearTimeout")(a.current),a.current=null),b.current!=null&&(window.cancelIdleCallback&&window.cancelIdleCallback(b.current),b.current=null)},[]);k(function(){return d},[d]);return j(function(e,f){d(),e==="idle"?a.current=c("setTimeout")(function(){window.requestIdleCallback?b.current=window.requestIdleCallback(f):f()},1e3):f()},[d])}g["default"]=a}),98);
__d("MWPThreadHasActiveUserUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return a!=null?(h||(h=d("I64"))).to_float(a)+h.to_float(b)>=d("ServerTime").getMillis():!1}function a(a){return(h||(h=d("I64"))).to_float(a)>d("ServerTime").getMillis()}function b(a){return i(a,(h||(h=d("I64"))).of_string("86400000"))}g.isMsTimestampNotExpired=a;g.isMsTimestampWithinPastDay=b}),98);
__d("IGDPresenceTextForThread.react",["fbt","CometRelativeTimestamp.react","I64","MWPThreadHasActiveUserUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;b.useMemo;var m=b.unstable_useMemoCache;function n(a){var b=m(8),c;bb23:{if(b[0]!==a){var e=a!=null&&d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(a.expirationTimestampMs)?[(k||(k=d("I64"))).equal(a.status,(k||(k=d("I64"))).of_string("2")),a.lastActiveTimestampMs]:[!1,void 0],f=e[0];e=e[1];e=e;if(f){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f={_0:!0,TAG:0},b[4]=f):f=b[4];c=f;break bb23}f=e!=null&&d("MWPThreadHasActiveUserUtils").isMsTimestampWithinPastDay(e);b[0]=a;b[1]=f;b[2]=e;b[3]=c}else f=b[1],e=b[2],c=b[3];if(f){b[5]!==e?(a={_0:e,TAG:1},b[5]=e,b[6]=a):a=b[6];c=a}else{b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f={_0:void 0,TAG:2},b[7]=f):f=b[7];c=f}}return c}function o(a){var b=m(7),e=a.presenceState,f=a.renderNullState;a=a.renderWrapper;e=n(e);switch(e.TAG){case 0:var g;b[0]!==a?(g=a(h._("__JHASH__8hpTChzyNvb__JHASH__")),b[0]=a,b[1]=g):g=b[1];return g;case 1:b[2]!==e._0||b[3]!==a?(g=a(h._("__JHASH__yVUdYKgAiR3__JHASH__",[h._param("time",l.jsx(c("CometRelativeTimestamp.react"),{date:new Date((k||(k=d("I64"))).to_float(e._0)),format:"minimized"}))])),b[2]=e._0,b[3]=a,b[4]=g):g=b[4];return g;case 2:b[5]!==f?(e=f(),b[5]=f,b[6]=e):e=b[6];return e}}function p(a){var b=m(10);bb37:{var c,e;b[0]!==a?(e={contents:0},c=[],a.forEach(function(a){var b=a[0];a=a[1];var f=a.lastActiveTimestampMs,g=d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(a.expirationTimestampMs);a=g&&(k||(k=d("I64"))).equal(a.status,(k||(k=d("I64"))).of_string("2"));f=f!=null?g&&d("MWPThreadHasActiveUserUtils").isMsTimestampWithinPastDay(f):!1;if(g){a&&c.push(b);e.contents=f?e.contents+1|0:e.contents;return}}),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);a=c.length;if(a!==1)if(a!==0){b[3]!==c.length?(a={_0:c.length,TAG:1},b[3]=c.length,b[4]=a):a=b[4];a=a;break bb37}else if(e.contents>0){var f;b[5]!==e.contents?(f={_0:e.contents,TAG:2},b[5]=e.contents,b[6]=f):f=b[6];a=f;break bb37}else{b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f={_0:void 0,TAG:3},b[7]=f):f=b[7];a=f;break bb37}f=c[0];var g;b[8]!==f?(g={_0:f,TAG:0},b[8]=f,b[9]=g):g=b[9];a=g}return a}function q(a){var b=m(9),e=a.participant;a=a.renderWrapper;var g=(i||(i=c("useReStore")))(),j=e.contactId;b[0]!==g.tables.contacts||b[1]!==j?(e=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(j)},b[0]=g.tables.contacts,b[1]=j,b[2]=e):e=b[2];var k;b[3]!==g||b[4]!==j?(k=[g,j],b[3]=g,b[4]=j,b[5]=k):k=b[5];e=d("ReQLSuspense").useFirst(e,k,f.id+":194");if(e!=null){k=e.secondaryName;k=k!=null?k:e.name}else k=null;if(k==null)return k;b[6]!==k||b[7]!==a?(e=a(h._("__JHASH__lZmgB-Ll2vc__JHASH__",[h._param("username",k)])),b[6]=k,b[7]=a,b[8]=e):e=b[8];return e}function r(a){var b=m(11),c=a.presenceStates,d=a.renderNullState;a=a.renderWrapper;c=p(c);switch(c.TAG){case 0:var e;b[0]!==c._0||b[1]!==a?(e=l.jsx(q,{participant:c._0,renderWrapper:a}),b[0]=c._0,b[1]=a,b[2]=e):e=b[2];return e;case 1:b[3]!==c._0||b[4]!==a?(e=a(h._("__JHASH__nyD2lTMkH7-__JHASH__",[h._param("count",String(c._0))])),b[3]=c._0,b[4]=a,b[5]=e):e=b[5];return e;case 2:b[6]!==c._0||b[7]!==a?(e=a(h._("__JHASH__VHWQfDmCIfu__JHASH__",[h._param("count",String(c._0))])),b[6]=c._0,b[7]=a,b[8]=e):e=b[8];return e;case 3:b[9]!==d?(c=d(),b[9]=d,b[10]=c):c=b[10];return c}}function s(){return null}function a(a){var b=m(8),c=a.presenceState,d=a.renderWrapper;a=a.renderNullState;a=a===void 0?s:a;if(c.threadType==="canonical"){var e;b[0]!==c.state||b[1]!==a||b[2]!==d?(e=l.jsx(o,{presenceState:c.state,renderNullState:a,renderWrapper:d}),b[0]=c.state,b[1]=a,b[2]=d,b[3]=e):e=b[3];return e}else{b[4]!==c.state||b[5]!==a||b[6]!==d?(e=l.jsx(r,{presenceStates:c.state,renderNullState:a,renderWrapper:d}),b[4]=c.state,b[5]=a,b[6]=d,b[7]=e):e=b[7];return e}}g["default"]=a}),226);
__d("QPLCreateGroupThreadLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(832770470,"483"))}function b(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!0}}})}function d(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!0}}})}function e(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!1}}})}function f(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!1}}})}g.QPLEndSuccessCreateGroup=a;g.QPLStartCreateSecureGroup=b;g.QPLEndFailureCreateSecureGroup=d;g.QPLStartCreateOpenGroup=e;g.QPLEndFailureCreateOpenGroup=f}),98);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetViewerFBID","LSLocalApplyOptimisticMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=c.i64.cast([0,1083495711]),d[3]=c.i64.cast([0,0]),d[4]=c.i64.cast([0,0]),d[5]=c.i64.cast([0,0]),void 0?d[6]=!1:d[6]=!0,d[6]?(a=["",void 0,void 0,void 0,void 0],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],a):(d[14]=(void 0).get("nullstate_description_text1"),void 0,d[14]!==void 0?d[15]=d[14]:d[15]="",d[16]=(void 0).get("nullstate_description_text2"),void 0,d[17]=(void 0).get("nullstate_description_text3"),void 0,d[18]=(void 0).get("nullstate_description_text4"),void 0,d[19]=(void 0).get("nullstate_description_text5"),void 0,a=[d[15],d[16],d[17],d[18],d[19]],d[7]=a[0],d[8]=a[1],d[9]=a[2],d[10]=a[3],d[11]=a[4],a),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[1]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[1],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[12],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[2],capabilities2:d[3],capabilities3:d[4],capabilities4:d[5],nullstateDescriptionText1:d[7],nullstateDescriptionText2:d[8],nullstateDescriptionText3:d[9],threadName:a[2]})},function(a){return c.resolve()},function(b){return a[3]!==void 0?c.db.table(312).add({threadKey:d[1],metadata:a[3]}):c.resolve()},function(e){return d[13]=c.i64.of_int32(a[0].length),c.i64.gt(d[13],c.i64.cast([0,0]))?c.loopAsync(d[13],function(e){return d[14]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[1],d[15]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[15])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[1],contactId:d[15],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2],void 0).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==void 0?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==void 0?d[4].set("thread_name",a[2]):0,d[5]=d[4].get("send_payload"),d[4],d[6]=d[5].get("thread_id"),d[5],d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminTextStoredProcedure",["LSCreateGroupThreadWithAdminText","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.participants;d[1]=b.nullstateDescriptionText;d[2]=b.threadName;d[3]=b.text;return c("LSCreateGroupThreadWithAdminText").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWPCreateThread",["I64","LSAuthorityLevel","LSCreateGroupThreadWithAdminTextStoredProcedure","LSFactory","LSIntEnum","LSVec","Promise","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useCallback;function a(){var a=(k||(k=c("useReStore")))();return m(function(e,f,g){return a.runInTransaction(function(a){return c("LSCreateGroupThreadWithAdminTextStoredProcedure")(c("LSFactory")(a),{participants:c("LSVec").ofArray(e),text:(a=g)!=null?a:void 0,threadName:(a=f)!=null?a:void 0})},"readwrite").then(function(e){var f=e[0];return new(h||(h=b("Promise")))(function(b){var e=d("ReQL").fromTableAscending(a.tables.threads.index("clientThreadKey")).getKeyRange(f),g={contents:function(){}},h=function(a){if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g.contents();return b(a)}};g.contents=e.subscribe(function(a,b){b.operation!=="delete"&&h(b.value)});c("promiseDone")(d("ReQL").firstExnAsync(e),h)})})},[a])}g["default"]=a}),98);
__d("useCreateOpenGroupThread",["I64","IGDNavigation","QPLCreateGroupThreadLogging","asyncToGeneratorRuntime","react","useMWPCreateThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");e.useCallback;var j=e.unstable_useMemoCache;function a(a){var e=j(4),f=c("useMWPCreateThread")(),g=d("IGDNavigation").useIGDNavigation(),h;e[0]!==f||e[1]!==g||e[2]!==a?(h=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("QPLCreateGroupThreadLogging").QPLStartCreateOpenGroup();b=b.map(function(a){return(i||(i=d("I64"))).of_string(a)});try{b=(yield f(b));if(b){g.openInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},a);d("QPLCreateGroupThreadLogging").QPLEndSuccessCreateGroup();return b.threadKey}}catch(a){d("QPLCreateGroupThreadLogging").QPLEndFailureCreateOpenGroup()}return null});return function(a){return c.apply(this,arguments)}}(),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h}g["default"]=a}),98);
__d("useCreateSecureOneToOneThread",["I64","IGDNavigation","asyncToGeneratorRuntime","react","useMWPCreateOneToOneThreadThenNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");e.useCallback;var j=e.unstable_useMemoCache;function a(){var a=j(2),e=d("IGDNavigation").useIGDNavigation(),f=c("useMWPCreateOneToOneThreadThenNavigate")(e);a[0]!==f?(e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(i||(i=d("I64"))).of_string(a);yield f(a);return a});return function(b){return a.apply(this,arguments)}}(),a[0]=f,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useFetchExistingThreadWithContactIds",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","asyncToGeneratorRuntime","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).unstable_useMemoCache;function m(a,b){if(a.length!==b.length)return!1;var c=new Set(a);return b.every(function(a){return c.has(a)})}function a(){var a=l(7),e=(i||(i=c("useReStore")))(),f=d("MWPActor.react").useActor(),g;a[0]!==f||a[1]!==e.tables.participants||a[2]!==e.tables.threads?(g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var g=(j||(j=d("I64"))).to_string(f),i=new Set(a);i["delete"](g);a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.participants).filter(function(a){return i.has((j||(j=d("I64"))).to_string(a.contactId))}).map(function(a){return a.threadKey})));var k=[].concat(Array.from(i),[g]);g=(yield (h||(h=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(e.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(a).map(function(a){return(j||(j=d("I64"))).to_string(a.contactId)})));b=m(k,b);if(b)return a;else return null});return function(b){return a.apply(this,arguments)}}()))).filter(Boolean);a=new Set(g);g=(yield h.all(Array.from(a).map(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).filter(function(a){return(j||(j=d("I64"))).to_int32(a.threadType)===c}))})));return g[0]});return function(b,c){return a.apply(this,arguments)}}(),a[0]=f,a[1]=e.tables.participants,a[2]=e.tables.threads,a[3]=g):g=a[3];var k;a[4]!==f||a[5]!==e?(k=[f,e],a[4]=f,a[5]=e,a[6]=k):k=a[6];return d("Int64Hooks").useCallbackInt64(g,k)}g["default"]=a}),98);
__d("useOpenOrCreateGroupThread",["IGDNavigation","asyncToGeneratorRuntime","react","useCreateOpenGroupThread","useFetchExistingThreadWithContactIds"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.unstable_useMemoCache;function a(a){var e=i(5),f=d("IGDNavigation").useIGDNavigation(),g=c("useFetchExistingThreadWithContactIds")(),h=c("useCreateOpenGroupThread")(a),j;e[0]!==g||e[1]!==f||e[2]!==a||e[3]!==h?(j=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield g(b,2));if(c){f.openInbox({clientThreadKey:c.clientThreadKey,threadKey:c.threadKey,threadType:c.threadType},a);return c.threadKey}return h(b)});return function(a){return c.apply(this,arguments)}}(),e[0]=g,e[1]=f,e[2]=a,e[3]=h,e[4]=j):j=e[4];return j}g["default"]=a}),98);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40])==null?c.i64.cast([0,40]):c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSVerifyThreadRowExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;return c("LSVerifyThreadRowExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useOpenOrCreateOpenOneToOneThread",["FBLogger","I64","IGDNavigation","LSFactory","LSVerifyThreadRowExistsStoredProcedure","Promise","asyncToGeneratorRuntime","react","requireDeferred","useCreateSecureOneToOneThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");e.useCallback;var l=e.unstable_useMemoCache,m=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useOpenOrCreateOpenOneToOneThread");function a(a){var e=l(5),f=(i||(i=c("useReStore")))(),g=d("IGDNavigation").useIGDNavigation(),k=c("useCreateSecureOneToOneThread")(),n;e[0]!==f||e[1]!==k||e[2]!==g||e[3]!==a?(n=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var i=(j||(j=d("I64"))).of_string(e),l=(yield m.load());l=(yield l.verifyThreadCutover((h||(h=b("Promise"))).resolve(f),i));if(l)return k(e);try{yield f.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(j||(j=d("I64"))).of_int32(1),threadKey:i,threadType:j.of_int32(1)})},"readwrite"),g.openInbox({clientThreadKey:i,threadKey:i,threadType:(j||(j=d("I64"))).of_int32(1)},a)}catch(a){c("FBLogger")("ig_web","create_one_to_one_thread").mustfix("Failed to create 1 to 1 open thread by verifying thread row exists.")}return i});return function(a){return e.apply(this,arguments)}}(),e[0]=f,e[1]=k,e[2]=g,e[3]=a,e[4]=n):n=e[4];return n}g["default"]=a}),98);
__d("useOpenOrCreateThreadFromIGDCandidate",["IGDAWContactSearchConversionUtils","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","asyncToGeneratorRuntime","react","useOpenOrCreateGroupThread","useOpenOrCreateOpenOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.unstable_useMemoCache;function a(){var a=i(5),e=c("useOpenOrCreateOpenOneToOneThread")("inboxNewMessage"),f=c("useOpenOrCreateGroupThread")("inboxNewMessage"),g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),h=c("MessengerWebUXLogger").useInteractionLogger(),j;a[0]!==h||a[1]!==g||a[2]!==f||a[3]!==e?(j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.size<=0)return;a=d("IGDAWContactSearchConversionUtils").getIGDUserCandidateContactIds(a);h==null?void 0:h({eventName:"create_thread_attempt",extraData:{participant_ids:[].concat(a).join(", "),thread_size:a.length.toString()},flowInstanceId:g});a.length>1?yield f(a):a.length===1&&(yield e(a[0]))});return function(b){return a.apply(this,arguments)}}(),a[0]=h,a[1]=g,a[2]=f,a[3]=e,a[4]=j):j=a[4];return j}g["default"]=a}),98);
__d("useMWPPresenceStatesForThread",["I64","LSIntEnum","MAWContactRelationshipType","MAWDbContact","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useMemo;function m(a){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(1)))return!0;else return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(15))}function n(a){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(2)))return!0;else return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(16))}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return m(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.presence_states)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.contactId,e)}):d("ReQL").empty()},[e,b,a.threadKey,a.threadType],f.id+":73"),i=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(g[0].contactId):d("ReQL").empty()},[b,g],f.id+":86"),k=g!=null&&i!=null&&d("MAWContactRelationshipType").getContactRelationshipType(i)!==d("MAWDbContact").ONE_WAY_CONTACT?g[1]:void 0,o=d("ReQLSuspense").useArray(function(){return n(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.presence_states)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.contactId,e)}):d("ReQL").empty()},[b,a.threadKey,e,a.threadType],f.id+":100");return l(function(){return m(a.threadType)?{state:k,threadType:"canonical"}:{state:o,threadType:"group"}},[k,o,a.threadType])}g["default"]=a}),98);
__d("useMWPThreadHasActiveUser",["I64","MWPThreadHasActiveUserUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a){return j(function(){if(a.threadType!=="canonical")return a.state.some(function(a){a[0];a=a[1];if(d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(a.expirationTimestampMs))return(i||(i=d("I64"))).equal(a.status,i.of_string("2"));else return!1});var b=a.state;if(b!=null&&d("MWPThreadHasActiveUserUtils").isMsTimestampNotExpired(b.expirationTimestampMs))return(i||(i=d("I64"))).equal(b.status,i.of_string("2"));else return!1},[a])}g["default"]=a}),98);
__d("CometSeeMoreExpandingUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=b;while(c>=0){if(a.charAt(c)===" "||a.charAt(c)==="\n")break;c-=1}a.charAt(b)!=="\n"?c+=1:c=b+1;b=a.substring(c);a=/\s/;b=b.search(a)+c-1;return{truncatedEntityEndIndex:b,truncatedEntityOffset:c}}function h(a,b,c){var d=[];b=g(b,c);c=b.truncatedEntityEndIndex;b=b.truncatedEntityOffset;b=b;var e=!1;for(var a=a,f=Array.isArray(a),h=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;var j=i.entity,k=i.entity_type,l=i.length;i=i.offset;i!=null&&l!=null&&j!=null&&j.__typename!=null&&(d.push({entity:j,entity_type:k,length:l,offset:i}),!e&&i+l>=c&&b>=i&&(b=i,e=!0))}e||d.push({entity:{__typename:"SeeMoreTruncation"},entity_type:"SEE_MORE_ANCHOR",length:0,offset:b});return{newEntityRanges:d,newTruncatedEntityOffset:b}}function i(a,b){var c=[],d=[];if(b!=null)for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=g.entity,i=g.entity_type,j=g.length;g=g.offset;g!=null&&j!=null&&h!=null&&h.__typename!=null&&(g<b?(c.push({entity:h,entity_type:i,length:j,offset:g}),g+j>b&&d.push({entity:h,entity_type:i,length:g+j-b,offset:0})):d.push({entity:h,entity_type:i,length:j,offset:g-b}))}return{entitiesBeforeTruncatedOffset:c,entitiesFromTruncatedOffset:d}}function j(a,b,c){a=h(a,b,c);b=a.newEntityRanges;c=a.newTruncatedEntityOffset;a=i(b,c);b=a.entitiesBeforeTruncatedOffset;a=a.entitiesFromTruncatedOffset;return{entitiesBeforeTruncatedOffset:b,entitiesFromTruncatedOffset:a,newTruncatedEntityOffset:c}}function a(a,b,c){var d=[],e=[],f=-1,g=-1,h=-1;if(!a)return{filteredEntitiesBeforeTruncatedPosition:d,filteredEntitiesFromTruncatedPosition:e,hiddenContentOffset:f,truncatedLineIndex:g,truncatedParagraphIndex:h};a=0;var i;for(var k=0;k<b.length;k++){var l=b[k];if(Array.isArray(l)&&c!=null&&c.current!=null){var m=c.current;for(var n=0;n<l.length;n++){var o=l[n].ranges,p=l[n].text,q=p.length;i=m-a;a+=q;if(h<0&&i>=0&&a>=m){h=k;g=n;i=j(o,p,m-a+q);o=i.entitiesBeforeTruncatedOffset;p=i.entitiesFromTruncatedOffset;q=i.newTruncatedEntityOffset;d=o;e=p;f=q;break}}}if(h>=0&&g>=0)break}return{filteredEntitiesBeforeTruncatedPosition:d,filteredEntitiesFromTruncatedPosition:e,hiddenContentOffset:f,truncatedLineIndex:g,truncatedParagraphIndex:h}}f.getTruncatedEntityRangesAfterExpandingSeeMore=h;f.splitEntityRangesIntoRegularAndHiddenParts=i;f.getEntityRangesWithTruncatedEntityAndSplitIntoTwoParts=j;f.filterParagraphsGetTruncatedLinesEntityRangesAndIndex=a}),66);
__d("CometSplitPointForText",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,e){c===void 0&&(c=8);e===void 0&&(e=0);var f=null,g=a.split("\n"),h=(i||(i=d("UnicodeUtils"))).strlen(a);h>b&&h-b>e&&(f=b);if(g.length>c){e=g.slice(0,c).join("\n").length;f!==null?f=Math.min(e,f):f=e}if(f==null)return f;else{b=f+j(a,f);return b<h?b:null}}function j(a,b){var e=b>0&&(h||(h=c("EmojiRendererData"))).isZWJ((i||(i=d("UnicodeUtils"))).charAt(a,b-1).codePointAt(0));return k(a,e?b-1:b)}function k(a,b){var e=(i||(i=d("UnicodeUtils"))).charAt(a,b);if(e!==""){e=e.codePointAt(0);if((h||(h=c("EmojiRendererData"))).isEmojiModifier(e)||(h||(h=c("EmojiRendererData"))).isEmojiVariationSelector(e)||(h||(h=c("EmojiRendererData"))).isTextVariationSelector(e))return 1+k(a,b+1);else if((h||(h=c("EmojiRendererData"))).isZWJ(e)){e=(i||(i=d("UnicodeUtils"))).charAt(a,b+1);if((h||(h=c("EmojiRendererData"))).isEmojiModifierBase(e.codePointAt(0)))return 2+k(a,b+2)}}return 0}g.findSplitPointForText=a}),98);
__d("CometTextWithEntitiesBase.react",["UnicodeUtils","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.Fragment;function l(a){return Array.from(a).sort(function(a,b){return a.offset-b.offset||b.length-a.length})}function m(a,b){return b!=null?b.reduce(function(a,b){return b(a)},a):a}m.displayName=m.name+" [from "+f.id+"]";function n(a,b,c,d,e,f,g,h,i){var l=a.__typename;h=Object.prototype.hasOwnProperty.call(h,l)?h[l].concat(i):i;return j.jsx(k,{children:h&&h.length>0?h.reduce(function(d,f){return f(d,a,c,e,b)},f):d},g)}n.displayName=n.name+" [from "+f.id+"]";function o(a,b,c,e,f,g,h,l,o,p,q,r){a=(i||(i=d("UnicodeUtils"))).substr(a,b,c-b);c=o.length;a.length>0&&l.push(j.jsx(k,{children:m(a,p)},"c"+b+"_"+c+"_"+r));p=o.pop();o[o.length-1].subElements.push(n(e,f,g,l,a,l,b+"_"+c+"_"+r,h,q));return p}function a(a){var b=a.ranges;b=b===void 0?[]:b;var e=a.renderers,f=a.transforms,g=f===void 0?[]:f,h=a.text;f=a.disableRangeSort;a=f===void 0?!1:f;var p=(f=e)!=null?f:{},q=0,r=(e=Object.prototype.hasOwnProperty.call(p,"*")?p["*"]:[])!=null?e:[];f=a?b:l(b);var s=[{entity:{__typename:""},entity_is_weak_reference:!1,entityType:"",length:h.length,offset:0,subElements:[]}];if(!c("gkx")("24280"))for(e=0;e<f.length;++e){a=f[e];b=a.entity;var t=a.entity_is_weak_reference,u=a.entity_type,v=a.length;a=a.offset;if(q>=h.length||a>h.length)break;var w=s[s.length-1],x=w.entity,y=w.entity_is_weak_reference,z=w.entityType,A=w.length,B=w.offset;w=w.subElements;var C=B+A;while(C<=a&&s.length>1){o(h,q,C,x,y,z,p,w,s,g,r,e);q=C;var D=s[s.length-1];x=D.entity;y=D.entity_is_weak_reference;z=D.entityType;A=D.length;B=D.offset;w=D.subElements;C=B+A}q<a&&(s[s.length-1].subElements.push(j.jsx(k,{children:m((i||(i=d("UnicodeUtils"))).substr(h,q,a-q),g)},"c"+q+"_"+s.length)),q=a);if(B<=a&&C>=a+v){s.push({entity:b,entity_is_weak_reference:(D=t)!=null?D:null,entityType:(C=u)!=null?C:null,length:v,offset:a,subElements:[]})}else{var E;D=(i||(i=d("UnicodeUtils"))).substr(h,a,v);C=m(D,g);s[s.length-1].subElements.push(n(b,(E=t)!=null?E:null,(E=u)!=null?E:null,D,D,C,q+"_"+s.length,p,r));q=a+v}}else{var F=[];f.forEach(function(a){F.push({index:a.offset,range:a,type:"start"}),F.push({index:a.offset+a.length,range:a,type:"end"})});F.sort(function(a,b){if(a.index!==b.index)return a.index-b.index;if(a.range.length===0&&b.range.length!==0)return 1;else if(a.range.length!==0&&b.range.length===0)return-1;if(a.type!==b.type)return a.range===b.range?b.type==="start"?1:-1:b.type==="end"?1:-1;else if(a.type==="start")return b.range.length-a.range.length;else return a.range.length-b.range.length});var G=0;while(G<F.length){var H=F[G];if(q>=h.length||H.index>h.length)break;if(H.type==="start"){if(H.index>q){E=(i||(i=d("UnicodeUtils"))).substr(h,q,H.index-q);s[s.length-1].subElements.push(j.jsx(k,{children:m(E,g)},"c"+q+"_"+s.length))}D=H.range;b=D.entity;var t=D.entity_is_weak_reference,u=D.entity_type,v=D.length;a=D.offset;s.push({entity:b,entity_is_weak_reference:(C=t)!=null?C:null,entityType:(e=u)!=null?e:null,length:v,offset:a,subElements:[]});G++;q=H.index}else{var I=new Set();f=F[G];E=function(){var d=F[G];G++;var e=null;I.forEach(function(a){a.entity===d.range.entity&&(e=a)});if(e!=null)I["delete"](e);else if(s.length>1){var i=s[s.length-1],a=i.entity,b=i.entity_is_weak_reference,c=i.entityType;i=i.subElements;var j=o(h,q,H.index,a,b,c,p,i,s,g,r,F.length-G);q=H.index;while(s.length>1&&j.entity!==d.range.entity){I.add(j);var k=s[s.length-1];a=k.entity;b=k.entity_is_weak_reference;c=k.entityType;i=k.subElements;j=o(h,q,q,a,b,c,p,i,s,g,r,F.length-G)}}f=F[G]};while(f&&f.index===H.index&&f.type==="end")E();q=H.index;D=Array.from(I);for(b=D.length-1;b>=0;b--){t=D[b];s.push({entity:t.entity,entity_is_weak_reference:t.entity_is_weak_reference,entityType:t.entityType,length:t.offset+t.length-q,offset:q,subElements:[]})}}}}while(s.length>1){C=s[s.length-1];var x=C.entity,y=C.entity_is_weak_reference,z=C.entityType,A=C.length,B=C.offset;w=C.subElements;u=B+A;o(h,q,u,x,y,z,p,w,s,g,r,s.length);q=u}if(q<h.length){e=s[s.length-1].subElements;e.push(j.jsx(k,{children:m((i||(i=d("UnicodeUtils"))).substr(h,q),g)},"c"+q))}return j.jsx(j.Fragment,{children:s[s.length-1].subElements})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getTextDirectionAttribute",["cr:1080422"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c="auto";b("cr:1080422")!=null&&window!=null&&(c=b("cr:1080422").isDirectionRTL(a)?"rtl":"ltr");return c}g["default"]=a}),98);
__d("BaseCometTextWithEntities.react",["CometSeeMoreExpandingUtils","CometSplitPointForText","CometTextWithEntitiesBase.react","CometTrackingNodeProvider.react","FocusRegion.react","UnicodeUtils","focusScopeQueries","getTextDirectionAttribute","gkx","killswitch","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useRef,n=b.useState,o=.6,p=20,q={paragraph:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",wordWrap:"x1vvkbs",$$css:!0},paragraphSpaced:{marginTop:"xtlvy1s",$$css:!0},preserveWhiteSpace:{whiteSpace:"x126k92a",$$css:!0}},r={auto:{textAlign:"start"},center:{textAlign:"center"},ltr:{textAlign:"left"},rtl:{textAlign:"right"}};function s(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d!=null&&d.offset!=null&&d.length!=null&&d.entity!=null&&d.entity.__typename!=null){var e;b.push({entity:d.entity,entity_is_weak_reference:(e=d.entity_is_weak_reference)!=null?e:null,length:d.length,offset:d.offset})}}return b}function t(a,b,c){return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return a.offset>=0&&a.offset<c})}function u(a){var b=a.ranges;a=a.text;var c=0;return a.split("\n").map(function(a){var e=t(b,c,(j||(j=d("UnicodeUtils"))).strlen(a));c+=j.strlen(a)+1;return{ranges:e,text:a}}).filter(function(a){return a.text.trim()!==""})}function v(a,b){var c=a.ranges;a=a.text;var e=0;return a.split(/(?=\n\s*\n)/).map(function(a){var f,g;f=(f=a.match(/(^\n\s*\n)?([^]*$)/))!=null?f:[];g=(g=f[1])!=null?g:"";f=(f=f[2])!=null?f:a;g=t(c,e+g.length,(j||(j=d("UnicodeUtils"))).strlen(f));e+=j.strlen(a);return b?u({ranges:g,text:f}):{ranges:g,text:f}})}function a(a){var b=a.maxLength;b=b===void 0?800:b;var e=a.maxLines;e=e===void 0?8:e;var f=a.ranges;f=f===void 0?[]:f;var g=a.text,i=a.truncationFactor_DEPRECATED;i=i===void 0?o:i;var u=a.truncationStyle;u=u===void 0?"none":u;var w=a.truncationThreshold;w=w===void 0?p:w;var x=a.withLineBreaks;x=x===void 0?!1:x;var y=a.withParagraphs;y=y===void 0?!1:y;var z=a.onToggleExpanded,A=a.seeMoreFragment,B=a.expanded,C=a.preserveWhiteSpace,D=C===void 0?!1:C,E=a.align;C=a.maintainExpansionState;var F=C===void 0?!1:C,G=babelHelpers.objectWithoutPropertiesLoose(a,["maxLength","maxLines","ranges","text","truncationFactor_DEPRECATED","truncationStyle","truncationThreshold","withLineBreaks","withParagraphs","onToggleExpanded","seeMoreFragment","expanded","preserveWhiteSpace","align","maintainExpansionState"]);a=n((C=B)!=null?C:!1);C=a[0];var H=a[1],I=B!=null?B:C;a=m(-1);B=l(function(){F||H(function(a){return!a}),z!=null&&z()},[z,F]);C=s(f);f=g;if(u!=="none"&&!I){u=d("CometSplitPointForText").findSplitPointForText(g,b*i,e,w);u!=null&&(f=(j||(j=d("UnicodeUtils"))).substring(g,0,u),C=t(C,0,j.strlen(f)),a.current=u)}var J=A!=null?k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:44,children:A(I,a.current,B)}):null;if(!y){if(c("gkx")("24279")&&I&&a!=null&&a.current!=null){b=d("CometSeeMoreExpandingUtils").getEntityRangesWithTruncatedEntityAndSplitIntoTwoParts(C,f,a.current);i=b.entitiesBeforeTruncatedOffset;e=b.entitiesFromTruncatedOffset;w=b.newTruncatedEntityOffset;return k.jsxs(k.Fragment,{children:[k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:i,text:f.substring(0,w)},G)),k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").focusableScopeQuery,children:k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:e,text:f.substring(w)},G))})]})}return k.jsxs(k.Fragment,{children:[k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:C,text:f},G)),J]})}var K=v({ranges:C,text:f},x);c("killswitch")("COMET_MESSAGE_EMPTY_PARAGRAPH_FILTERING")||(K=K.filter(function(a){return!Array.isArray(a)||a.length>0}));g=d("CometSeeMoreExpandingUtils").filterParagraphsGetTruncatedLinesEntityRangesAndIndex(I,K,a);var L=g.filteredEntitiesBeforeTruncatedPosition,M=g.filteredEntitiesFromTruncatedPosition,N=g.hiddenContentOffset,O=g.truncatedLineIndex,P=g.truncatedParagraphIndex;return k.jsx(k.Fragment,{children:K.map(function(a,b){return k.jsx("div",{className:(h||(h=c("stylex")))(q.paragraph,b!==0&&q.paragraphSpaced,D&&q.preserveWhiteSpace),children:Array.isArray(a)?a.map(function(e,f){var g=e.ranges;e=e.text;var h=E==="center"?E:c("getTextDirectionAttribute")(e);return k.jsxs("div",{dir:h,style:r[h],children:[I&&P===b&&O===f?k.jsxs(k.Fragment,{children:[k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:L,text:e.substring(0,N)},G)),k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").focusableScopeQuery,children:k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:M,text:e.substring(N)},G))})]}):k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:g,text:e},G)),b===K.length-1&&f===a.length-1?J:null]},f)}):k.jsxs(k.Fragment,{children:[k.jsx(c("CometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:a.ranges,text:a.text},G)),b===K.length-1?J:null]})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseCometTextWithExpansionEntities.react",["fbt","BaseCometTextWithEntities.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.LinkRenderer,e=a.seeLessLinkProps,f=a.seeMoreLinkProps,g=a.truncationStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["LinkRenderer","seeLessLinkProps","seeMoreLinkProps","truncationStyle"]);var i=k(function(a,c,i){if(a){if(g==="see-more-and-less")return j.jsxs(j.Fragment,{children:[" ",j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},e,{children:h._("__JHASH__HOgvcwAgZf9__JHASH__")}))]},"seeless")}else{if(g==="none")return null;if(c!=null&&c!==-1)switch(g){case"ellipsis-only":return j.jsx(j.Fragment,{children:h._("__JHASH__7lNkK2cLc2S__JHASH__")},"seemore");case"see-more":case"see-more-and-less":case"see-more-with-attachments":return j.jsxs(j.Fragment,{children:[h._("__JHASH__7lNkK2cLc2S__JHASH__")," ",j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},f,{children:h._("__JHASH__JO3lyYgE_aY__JHASH__")}))]},"seemore")}else if(g==="see-more-with-attachments")return j.jsx(d("react-strict-dom").html.div,{children:j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},f,{children:h._("__JHASH__JO3lyYgE_aY__JHASH__")}))},"seemore")}},[b,e,f,g]);return j.jsx(c("BaseCometTextWithEntities.react"),babelHelpers["extends"]({truncationStyle:g},a,{seeMoreFragment:i}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometTextWithEntities.react",["BaseCometTextWithExpansionEntities.react","CometLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("BaseCometTextWithExpansionEntities.react"),babelHelpers["extends"]({LinkRenderer:c("CometLink.react")},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(a,b,c,d,e,f,g){function a(a){return a.length===1}function h(a){return a instanceof HTMLElement||a instanceof SVGElement}function i(a,b){var d,e=b instanceof HTMLElement&&b.id!==""?b.id:null,f=new Set(b instanceof HTMLElement?c("filterNulls")([].concat(((d=b.getAttribute("aria-labelledby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-describedby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-owns"))!=null?d:"").split(" "),[b.getAttribute("aria-errormessage")])).filter(function(a){return a!==""}):[]);d=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(a){if(a===b)return NodeFilter.FILTER_REJECT;if(a.nodeType===Node.TEXT_NODE&&a.textContent.trim()==="")return NodeFilter.FILTER_REJECT;if(h(a)&&f.has(a.id))return NodeFilter.FILTER_REJECT;if(h(a)&&a.getAttribute("aria-hidden")==="true")return NodeFilter.FILTER_REJECT;if(a instanceof HTMLLabelElement&&(a.htmlFor===e||a.contains(b)))return NodeFilter.FILTER_REJECT;if(a.hasChildNodes())return NodeFilter.FILTER_SKIP;return h(a)&&a.getAttribute("aria-label")==null&&a.getAttribute("aria-labelledby")==null&&a.getAttribute("aria-describedby")==null&&a.getAttribute("alt")==null&&a.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});var g=d.currentNode;while(g===a)g=d.nextNode();return g!=null}var j=new Set(["button","checkbox","radio","reset","submit"]),k=new Set(["checkbox","link","switch","radio","button"]),l=new Set(["a","button"]);function m(a){var b=a.getAttribute("role"),c=a.tagName.toLowerCase(),d=a instanceof HTMLInputElement?a.type:null;if(a instanceof HTMLInputElement&&j.has(d))return!0;return k.has(b)||l.has(c)?!0:!1}function n(a){var b=[];a=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:function(a){return a instanceof HTMLElement&&m(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});var c=a.nextNode();while(c)b.push(c),c=a.nextNode();return b}function o(a,b){if(!b)return null;b=a.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery);if(b==null)return null;a=n(b);a=(a=a)!=null?a:[];var c=a[0];a=a.slice(1);if(c!=null&&a.length===0&&!i(b,c))return c}function p(a,b,c){if(b){var e=b.scopeRef.current;if(e!==null){var f;f=o(e,(f=b.allowWithinCellNavigation)!=null?f:!1);a=(f=(f=f)!=null?f:e.DO_NOT_USE_queryFirstNode(a))!=null?f:b.focusStaticCells===!0?e.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery):null;a!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1,b.focusStaticCells),d("setElementCanTab").setElementCanTab(a,!0,b.focusStaticCells),d("FocusManager").focusElement(a),c!=null&&(c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c)))}}}function b(a,b,c){if(b!=null){b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b),c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c))}}function q(a,b,c,d,e){d=d[c];c=s(d,e);var f=0,g,h,i;do{g=b-f;if(g>=0){i=r(d,g,e,a);if(i)return i}h=b+f;if(h<=c){i=r(d,h,e,a);if(i)return i}f++}while(g>=0&&h<=c);return null}function e(a,b,c,d,e,f,g,h){var i=b.onNavigate;if(i){var j=!1;e=v(e,d,h);var k=e[1];e=x(b,d,g);var l=e[0],m=e[1];if(l===null)return!1;b={currentCellIndex:k,currentRowIndex:m,event:c,focusCell:function(a,b){p(b||f,a,c)},getCell:function(a,b){a=l[a];return a!=null?r(a,b,h):null},getCellByTag:function(a){var b=q(a,k,m,l,h);if(b)return b;var c=l.length,d=m+1;while(!0){if(d===m)return null;if(d>c-1){d=0;continue}b=q(a,k,d,l,h);if(b)return b;d++}return null},preventDefault:function(){j=!0},type:a};i(b);if(j)return!0}return!1}function r(a,b,c,d){a=a.getChildContextValues(c).filter(function(a){return a!=null&&(d===void 0||a.tag===d)});c=0;for(var e=0;e<a.length;e++){var f=a[e];if(f){c+=f&&f.colSpan||1;if(c>b)return f}}return null}function f(a,b,c,d,e){c=r(b,c,d);if(c!==null){p(a,c,e);return}c=b.getChildContextValues(d).filter(Boolean);c.length>0&&p(a,c[c.length-1],e)}function s(a,b){b=(a=a.getChildContextValues(b).filter(Boolean))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function t(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function u(a,b){return a.getChildContextValues(b).filter(Boolean)}function v(a,b,c){b=u(b,c);if(b.length>0){c=t(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function w(a,b,c){if(a){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(b);b=[];for(var d=0;d<a.length;d++){var e=a[d];if(e){var f;f=(f=e.scopeRef)==null?void 0:f.current;e=(e=c==null?void 0:c(e))!=null?e:!0;f&&e&&b.push(f)}}return b}}return null}function x(a,b,c,d){a=w(a,c,d);if(b&&a&&a.length>0){c=a.indexOf(b);return[a,c]}return[null,-1]}function y(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}g.isPrintableCharacter=a;g.hasUnassociatedLeafNodes=i;g.isArrowKeyLessOperationElement=m;g.getCellSingleInteractiveContentNode=o;g.focusCell=p;g.focusRow=b;g.checkRowForMatch=q;g.handleOnNavigateBehavior=e;g.getCellByColumnIndex=r;g.focusCellByColumnIndex=f;g.getLength=s;g.getCellIndexes=t;g.getRowCells=u;g.getRowCellsWithIndexes=v;g.getRows=w;g.getRowsWithIndex=x;g.hasModifierKey=y}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l=b.useRef,m=5;function a(a){var b=i.unstable_Scope,c=i.createContext(null),e=i.createContext(null),g=i.createContext(null);function h(e){var f=e.children,g=e.wrapX,h=e.wrapY,j=e.wrapXToNextLine,n=e.tabScopeQuery,o=e.allowModifiers,q=e.pageJumpSize,r=q===void 0?m:q,s=e.onNavigate,t=e.disabled,u=e.withinCellTabScopeQuery;q=e.focusStaticCells;var v=q===void 0?!1:q,w=l(null);e=k(function(){return{scopeRef:w,wrapXToNextLine:j,wrapX:g,wrapY:h,tabScopeQuery:n,allowModifiers:o,pageJumpSize:r,onNavigate:s,disabled:t,withinCellTabScopeQuery:u,focusStaticCells:v}},[j,g,h,n,o,r,s,t,u,v]);var x=l(!1);q=d("ReactFocusEvent.react").useFocusWithin(w,k(function(){return{onFocusWithin:function(b){x.current||(x.current=!0,w.current&&a&&(p(w.current,a,!1),d("setElementCanTab").setElementCanTab(b.target,!0,v)))}}},[x,v]));return i.jsx(c.Provider,{value:e,children:i.jsx(b,{ref:q,children:f})})}h.displayName=h.name+" [from "+f.id+"]";function o(a){a=a.children;var c=l(null),d=k(function(){return{scopeRef:c}},[]);return i.jsx(e.Provider,{value:d,children:i.jsx(b,{ref:c,children:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b,c){a=a.DO_NOT_USE_queryAllNodes(b);if(a!=null)for(b=0;b<a.length;b++){var e=a[b];d("setElementCanTab").setElementCanTab(e,c)}}function q(f){var h=f.children,m=f.colSpan,o=f.tag,q=j(c),r=(f=j(e))==null?void 0:f.scopeRef,s=l(null),t=l(!1),u=(q==null?void 0:q.withinCellTabScopeQuery)!=null,v=q==null?void 0:q.focusStaticCells;d("ReactKeyboardEvent.react").useKeyboard(s,k(function(){return{onKeyDown:function(b){if(q&&q.disabled===!0)return;if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=s.current;if(c===null||q===null)return;if(r==null)return;var f=r.current;if(f===null)return;var h=b.key,i=u&&d("FocusTableUtils").getCellSingleInteractiveContentNode(c,u)==null,j=t.current;if(h==="Tab"&&q){var k=q.tabScopeQuery,l=q.scopeRef.current;if(k&&l){if(d("FocusTableUtils").handleOnNavigateBehavior("TAB",q,b,f,c,k,e,g))return;var m=q.withinCellTabScopeQuery;j&&m!=null?b.shiftKey?d("FocusManager").focusPreviousContained(m,c,b,!0):d("FocusManager").focusNextContained(m,c,b,!0):(p(l,k,!1),document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!0,v))}return}m=b.ctrlKey||b.metaKey;l=h;d("Locale").isRTL()&&(h==="ArrowRight"?l="ArrowLeft":h==="ArrowLeft"&&(l="ArrowRight"));switch(l){case"Home":if(d("FocusTableUtils").handleOnNavigateBehavior("HOME",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);l=k[0];k=k[1];var o=d("FocusTableUtils").getRowsWithIndex(q,f,e),w=o[0];o=o[1];if(l!==null&&w!==null)if(m){if(o!==0||k!==0){l=w[0];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}}else if(k!==0){l=w[o];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}return;case"End":if(d("FocusTableUtils").handleOnNavigateBehavior("END",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);w=k[0];o=k[1];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];l=l[1];if(w!==null&&k!==null)if(m){if(l!==k.length-1||o!==w.length-1){l=k[k.length-1];k=l.getChildContextValues(g).filter(Boolean);k.length>0&&d("FocusTableUtils").focusCell(a,k[k.length-1],b)}}else o!==w[w.length-1]&&d("FocusTableUtils").focusCell(a,w[w.length-1],b);return;case"ArrowUp":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=l[0];o=l[2];if(k!==null&&q){w=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=w[0];k=w[1];if(l!==null)if(k===0){w=q.wrapY;if(w===!0&&!m){w=l[l.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,w,o,g,b)}}else if(m){w=l[0];d("FocusTableUtils").focusCellByColumnIndex(a,w,o,g,b)}else{w=l[k-1];d("FocusTableUtils").focusCellByColumnIndex(a,w,o,g,b)}}return;case"PageUp":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=l[0];w=l[2];o=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=o[0];o=o[1];if(k!==null&&l!==null&&q&&o!==0){k=q.pageJumpSize;l=l[Math.max(0,o-k)];d("FocusTableUtils").focusCellByColumnIndex(a,l,w,g,b)}return;case"ArrowDown":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",q,b,f,c,a,e,g))return;if(j)return;o=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=o[0];l=o[2];w=d("FocusTableUtils").getRowsWithIndex(q,f,e);o=w[0];w=w[1];if(k!==null&&o!==null&&q&&w!==-1)if(w===o.length-1){k=q.wrapY;if(k===!0&&!m){k=o[0];d("FocusTableUtils").focusCellByColumnIndex(a,k,l,g,b)}}else if(m){k=o[o.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,k,l,g,b)}else{m=o[w+1];d("FocusTableUtils").focusCellByColumnIndex(a,m,l,g,b)}return;case"PageDown":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);o=k[0];w=k[2];m=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=m[0];k=m[1];if(o!==null&&l!==null&&q&&k!==l.length-1){m=q.pageJumpSize;o=l[Math.min(l.length-1,k+m)];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}return;case"ArrowLeft":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=l[0];m=l[1];o=d("FocusTableUtils").getRowsWithIndex(q,f,e);w=o[0];l=o[1];if(k!==null&&w!==null&&q)if(m>0)d("FocusTableUtils").focusCell(a,k[m-1],b);else if(m===0){o=q.wrapX;m=q.wrapXToNextLine;o===!0?d("FocusTableUtils").focusCell(a,k[k.length-1],b):m===!0&&w[l-1]&&d("FocusTableUtils").focusCellByColumnIndex(a,w[l-1],d("FocusTableUtils").getLength(w[l-1],g),g,b)}return;case"ArrowRight":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",q,b,f,c,a,e,g))return;if(j)return;o=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=o[0];m=o[1];w=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=w[0];o=w[1];if(k!==null&&l!==null&&q&&m!==-1)if(m===k.length-1){w=q.wrapX;var x=q.wrapXToNextLine;w===!0?d("FocusTableUtils").focusCell(a,k[0],b):x===!0&&l[o+1]&&d("FocusTableUtils").focusCellByColumnIndex(a,l[o+1],0,g,b)}else d("FocusTableUtils").focusCell(a,k[m+1],b);return;case"Enter":if(!i||j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ENTER",q,b,f,c,a,e,g))return;w=q==null?void 0:q.withinCellTabScopeQuery;if(w){x=c.DO_NOT_USE_queryFirstNode(w);x!=null&&(t.current=!0,p(c,w,!0),d("FocusManager").focusElement(x))}return;case"Escape":if(!i||!j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ESC",q,b,f,c,a,e,g))return;l=q==null?void 0:q.tabScopeQuery;if(l){t.current=!1;o=c.DO_NOT_USE_queryAllNodes(l);if(o!==null)for(k=0;k<o.length;k++){m=o[k];d("setElementCanTab").setElementCanTab(m,!1,v)}d("FocusTableUtils").focusCell(l,{scopeRef:s},b)}return;default:d("FocusTableUtils").isPrintableCharacter(h)&&d("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",q,b,f,c,a,e,g)}}}},[r,q,u]));var w=k(function(){return{scopeRef:s,colSpan:m,tag:o,allowWithinCellNavigation:u,focusStaticCells:v}},[m,u,o,v]),x=q==null?void 0:q.tabScopeQuery;f=d("ReactFocusEvent.react").useFocusWithin(s,k(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=s.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);var e=b.target===c;if(e&&(c&&!d("setElementCanTab").canElementTab(c))){e=q==null?void 0:q.scopeRef.current;e&&p(e,a,!1);d("setElementCanTab").setElementCanTab(c,!0,v)}}if(x!=null){c=(e=s.current)==null?void 0:e.DO_NOT_USE_queryFirstNode(x);e=b.target===c;var f=w.allowWithinCellNavigation===!0;e&&f&&d("FocusTableUtils").focusCell(x,w);c!=null&&!e&&f&&b.target instanceof HTMLElement&&!d("FocusTableUtils").isArrowKeyLessOperationElement(b.target)&&(t.current=!0)}},onBlurWithin:function(){t.current=!1}}},[x,w,q==null?void 0:q.scopeRef]));return i.jsx(g.Provider,{value:w,children:i.jsx(b,{ref:f,children:h})})}q.displayName=q.name+" [from "+f.id+"]";return[h,o,q]}function n(a,b){if(d("FocusTableUtils").hasModifierKey(a)&&b){a=b.allowModifiers;if(a!==!0)return!0}}g.createFocusTable=a}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("CometPageletImpl.react",["hero-tracing"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("hero-tracing").HeroPagelet}),98);
__d("CometPageletWithDiv.react",["CometBackupPlaceholder.react","CometPlaceholder.react","CometSuspenseList.react","LegacyHidden","cr:1191379","gkx","react","useCometIgnoreLateMutation","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");d=i.forwardRef(function(a,b){a=a.children;return i.jsxs(i.Fragment,{children:[" ",a(b,function(){return null})," "]})});var j=(b=b("cr:1191379"))!=null?b:d;function a(a,b){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.ignoreLateMutation,k=a.name,l=a.pageletAriaProps,m=a.pageletLogNamePoisitionLimit,n=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","ignoreLateMutation","name","pageletAriaProps","pageletLogNamePoisitionLimit","position"]);var o=k;m=(m=m)!=null?m:2;n!=null&&n<m?o+="_"+n:n!=null&&(o+="_{n}");m=c("gkx")("26331");var p=babelHelpers["extends"]({},m?null:{"data-pagelet":o});m=c("useCometIgnoreLateMutation")(h===!0);h=c("useMergeRefs")(b,m);return i.jsx(j,babelHelpers["extends"]({},a,{name:o,pageletName:k,position:n,ref:h,children:function(a,b){return i.jsxs(c("CometPlaceholder.react"),{fallback:f,name:o,children:[i.jsx(b,{}),i.jsx(c("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},l,p),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,h=a.ignoreLateMutation,k=a.name,l=a.pageletAriaProps,m=a.pageletLogNamePoisitionLimit,n=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","ignoreLateMutation","name","pageletAriaProps","pageletLogNamePoisitionLimit","position"]);k=k;m=(m=m)!=null?m:2;n!=null&&n<m?k+="_"+n:n!=null&&(k+="_{n}");m=c("gkx")("26331");var o=babelHelpers["extends"]({},m?null:{"data-pagelet":k});m=c("useCometIgnoreLateMutation")(h===!0);h=c("useMergeRefs")(b,m);return i.jsx(j,babelHelpers["extends"]({},a,{name:k,position:n,ref:h,children:function(a,b){return i.jsxs(c("CometBackupPlaceholder.react"),{fallback:f,children:[i.jsx(b,{}),i.jsx(c("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({},o,l,{className:e}),mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}e.displayName=e.name+" [from "+f.id+"]";function k(a,b){var d=a.children,e=a.className,f=a.hidden,g=a.name,h=a.pageletAriaProps,k=a.position,l=a.revealOrder,m=a.tail;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","hidden","name","pageletAriaProps","position","revealOrder","tail"]);g=g;k!=null&&k<2?g+="_"+k:k!=null&&(g+="_{n}");var n=c("gkx")("26331"),o=babelHelpers["extends"]({},n?null:{"data-pagelet":g});return i.jsx(j,babelHelpers["extends"]({},a,{name:g,position:k,ref:b,children:function(a,b){return i.jsxs(c("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({className:e},h,o),mode:f===!0?"hidden":"visible",ref:a,children:[i.jsx(b,{}),i.jsx(c("CometSuspenseList.react"),{revealOrder:l,tail:m,children:d})]})}}))}k.displayName=k.name+" [from "+f.id+"]";function l(a,b){var d=a.children,e=a.className,f=a.hidden,g=a.name,h=a.pageletAriaProps,k=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","hidden","name","pageletAriaProps","position"]);g=g;k!=null&&k<2?g+="_"+k:k!=null&&(g+="_{n}");var l=c("gkx")("26331"),m=babelHelpers["extends"]({},l?null:{"data-pagelet":g});return i.jsx(j,babelHelpers["extends"]({},a,{name:g,position:k,ref:b,children:function(a,b){return i.jsxs(i.Fragment,{children:[i.jsx(b,{}),i.jsx(c("LegacyHidden"),{htmlAttributes:babelHelpers["extends"]({},m,h,{className:e}),mode:f===!0?"hidden":"visible",ref:a,children:d})]})}}))}l.displayName=l.name+" [from "+f.id+"]";b=i.forwardRef(e);d=i.forwardRef(a);f=i.forwardRef(k);e=i.forwardRef(l);g.BackupPlaceholder=b;g.Placeholder=d;g.SuspenseList=f;g.Div=e}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(c("CurrentEnvironment").workplacedotcom?h._("__JHASH__WW0S3bu0Fvp__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._("__JHASH__PghB4SzSbNm__JHASH__"):c("CurrentEnvironment").horizondotmetadotcom?h._("__JHASH__Z4zJTVwDBj8__JHASH__"):h._("__JHASH__AaE4hJExM0x__JHASH__")).toString();function a(a,b,e,f){a===void 0&&(a=c("intlList").CONJUNCTIONS.AND);e.length>8&&c("recoverableViolation")("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+e.length,"messenger_web_product");if(e.length===0)return;if(e.length===1){var g=e[0];g[0];g=g[1];return(g=g==null?void 0:g.name)!=null?g:k}if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)});if(g.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}b=g[0];g=b[0].nickname;if(g!=null)return g;g=b[1];return(b=g==null?void 0:g.name)!=null?b:k}g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)}).slice(0,7).sort(function(a,b){b=b[1];a=a[1];if(a!=null)if(b!=null)return b.rank-a.rank;else return 0;else return 0}).map(function(a){var b,f=a[1];f!=null&&(i||(i=d("I64"))).equal(f.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))&&!((b=d("LSContactBitOffset").has(77,f))!=null?b:!1)&&!((b=d("LSContactBitOffset").has(65,f))!=null?b:!1)&&c("FBLogger")("messenger_browser_clients").debug("page participant in group");b=a[0].nickname;if(b!=null)return b;if(f==null)return k;a=f.firstName;if(a!=null&&e.length>2)return a;else return f.name});e.length>7&&g.push(String(h._("__JHASH__p-5gRHawKL0__JHASH__")));return c("intlList")(g,a,c("intlList").DELIMITERS.COMMA).toString()}b=8;g.computeThreadTitle=a;g.amountToFetchForTitle=b}),226);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return;if(b.length===1){var f=b[0],g=f[0];f=f[1];if(f!=null)return[g,f];return}g=b.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,e)});if(g.length===0){c("FBLogger")("messenger_comet").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(h||(h=d("I64"))).to_int32(a),b.length,b.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,e)}));return}f=g[0];a=f[0];b=f[1];if(b!=null)return[a,b]}g["default"]=a}),98);
__d("LSThreadTitle.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWChatTextTransform","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","getMWV2OtherUser","intlList","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=a.actorIDOverride,e=a.thread,g=a.transforms;a=a.wrapOutput;var i=d("MWPActor.react").useActor(),k=(h||(h=c("useReStore")))();b=b!=null?b:i;var l=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.table("participants"),["contactId","nickname"]).getKeyRange(e.threadKey),d("ReQL").fromTableAscending(k.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},[e.threadKey],f.id+":52");b=d("MWPGetThreadTitle").computeThreadTitle(c("intlList").CONJUNCTIONS.NONE,e.threadType,l,b);if(b==null)return"";b=j.jsx(c("CometTextWithEntities.react"),{text:b,transforms:g});g=c("getMWV2OtherUser")(e.threadType,l,i);if(a!=null&&g!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return a(g[1],b);else return b}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.actorIDOverride,e=a.thread,f=a.wrapOutput;a=a.transforms;a=a===void 0?d("MWChatTextTransform").textTransforms:a;var g=e.threadName;if(g!=null)return j.jsx(c("CometTextWithEntities.react"),{text:g,transforms:a});if(c("MWCMIsAnyCMThread")(e.threadType)){c("recoverableViolation")("community message should not use computed thread title","messenger_comet");return null}return j.jsx(k,{actorIDOverride:b,thread:e,transforms:a,wrapOutput:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSVerificationBadge.react",["I64","LSContactVerificationBadge.react","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.icon,e=a.size,g=a.threadKey,j=(h||(h=c("useReStore")))(),l=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.table("participants"),["contactId"]).getKeyRange(g).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,l)}).take(2),d("ReQL").fromTableAscending(j.table("contacts"),["capabilities","capabilities2"])).map(function(a){a[0];a=a[1];return a})},[j,g,l],f.id+":35");var m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("contacts"),["capabilities","capabilities2"]).getKeyRange(l)},[j,l],f.id+":49");if(a.length>1)return null;m=a.length===0?m:a[0];return m==null?null:k.jsx(c("LSContactVerificationBadge.react"),{contact:m,icon:(a=b)!=null?a:void 0,size:(m=e)!=null?m:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=a.children,e=a.threadKey,g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}),d("ReQL").fromTableAscending(g.table("contacts")))},[e],f.id+":30");a=a!=null?a[1]:null;a=a!=null?(i||(i=d("I64"))).equal(a.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;return l.jsx(c("MWPThreadIsPageContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_product");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWCMIsCMSubthread","MWPContactContext.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo;function n(a){var b=a.children,e=a.contactId,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e)},[g,e],f.id+":50");a=m(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite"))},[g,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.children,c=a.contact,e=a.nickname;a=m(function(){return{contact:c,nickname:e}},[c,e]);return l.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.children,g=a.contactId,k=a.threadKey,m=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("contacts")).getKeyRange(g)},[g,m],f.id+":125");b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("participants"),["nickname"]).getKeyRange(k,g)},[g,m,k],f.id+":129"))==null?void 0:b.nickname;var p=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("threads"),["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(k).map(function(a){var b=a.parentThreadKey,e=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(m.table("contextual_profile_v1"),["profileName"]).getKeyRange(g,c("MWCMIsCMSubthread")(a)&&e!=null?e:b),f.id+":154");return a==null?void 0:a.profileName})},[m,k,g],f.id+":145");p=p!=null?p:b;if(a!=null)if((j||(j=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return l.jsx(o,{contact:a,nickname:p,children:e});else return l.jsx(n,{contactId:g,children:e});else return l.jsx(n,{contactId:g,children:e})}a.displayName=a.name+" [from "+f.id+"]";a=l.memo(a,function(a,b){if(a!=null&&b!=null&&(j||(j=d("I64"))).equal(a.contactId,b.contactId)&&(j||(j=d("I64"))).equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=n;g.Provider=o;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[2]=c.i64.eq(a[2],c.i64.cast([-1,4294967295]))?c.i64.cast([0,0]):a[2],c.islc(c.filter(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,void 0)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?d[0]=!1:(f=e.item,c.sequence([function(e){return d[5]=f.threadKey,d[6]=c.i64.cast([0,0]),d[7]=f.minTimestampMs,d[8]=f.minMessageId,c.i64.eq(d[2],c.i64.cast([0,1]))?d[3]=!f.isLoadingAfter:d[3]=!f.isLoadingBefore,d[3]?c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,1]))?d[9]=f.hasMoreAfter:d[9]=f.hasMoreBefore,d[9]?c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[f.maxTimestampMs,f.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=c.i64.cast([0,1]):(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[12]=d[18])})},function(a){return c.storedProcedure(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[15],d[17]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),c.i64.cast([0,228]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.referenceTimestampMs;d[2]=b.direction;return c("LSIssueMessagesRangeQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","BaseThemeProvider.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","gkx","intersectionObserverEntryIsIntersecting","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useCallback,aa=b.useContext,ba=b.useEffect,ca=b.useImperativeHandle,da=b.useLayoutEffect,l=b.useMemo,m=b.useRef,ea=b.useState,n=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.render=function(){return c.props.children},a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return a}(j.PureComponent),o={contentMinHeight:{minHeight:"x1us19tq",$$css:!0},disableScrollAnchoring:{overflowAnchor:"x1xzczws",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1rife3k",position:"x1n2onr6",scrollbarColor:"x1l87tbt",width:"xh8yej3",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},p=typeof ResizeObserver!=="undefined";function fa(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function ga(a,b){return a-b.scrollTop>b.clientHeight*2}var ha=5;function a(a,b){var d=a.hasReachedBottom,e=d===void 0?!0:d;d=a.hasReachedTop;var f=d===void 0?!0:d;d=a.setScrollTopInResetForBottomAnchor;var g=d===void 0?!0:d,i=a.initialAnchor,q=a.initialRenderComplete,r=a.onReachingBottom,s=a.onReachingTop,t=a.onScroll,u=a.onUserScroll,v=a.renderEmptyContent,w=a.renderFooter,x=a.renderHeader,y=a.renderHeaderContentSpacer,z=a.renderLoadingAnimation;d=a.isSufficientContentLoadedAbove;var A=d===void 0?fa:d;d=a.isSufficientContentLoadedBelow;var B=d===void 0?ga:d,ia=a.headerStyle;d=a.snapThreshold;var C=d===void 0?5:d;d=a.xstyle;var D=a.elements,E=aa(c("BaseScrollableAreaContext")),F=m();a=l(function(){return[].concat(E,[{getDOMNode:function(){return F==null?void 0:F.current}}])},[E]);var G=m(),H=m(),I=ea(i),J=I[0],K=I[1],L=m(i),M=m(null),N=k(function(){var a=F.current,b=H.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=B(b.clientHeight,a);M.current=a.scrollTop;if(!b&&!e&&r!=null){r();return}b=A(a);M.current=a.scrollTop;!b&&!f&&s!=null&&s()},[e,f,A,B,r,s]);ba(N,[N,D.length]);var O=k(function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<C&&e?"bottom":"top";K(L.current=b);M.current=a.scrollTop},[e,C]),P=k(function(){var a=F.current,b=M.current;if(b==null||a==null)return;a.scrollTop!==b&&(a.scrollTop=b,t&&t(a))},[t]),Q=k(function(){var a=F.current,b=H.current;if(a==null||b==null)return;i==="bottom"?(g&&(a.scrollTop=a.scrollHeight),t&&t(a)):f||(a.scrollTop=b.offsetTop,t&&t(a));e&&a.scrollHeight-a.clientHeight-a.scrollTop<C?K(L.current="bottom"):K(L.current=i);M.current=a.scrollTop},[e,f,i,t,C,g]),R=m(!1);da(function(){if(R.current)return;Q();R.current=!0},[Q]);var S=k(function(a){a===void 0&&(a=!1);var b=F.current;if(b==null)return;q&&b.scrollHeight>b.clientHeight&&q();if(L.current==="bottom"){var d=b.scrollTop;b.scrollTop=b.scrollHeight;var e=b.scrollTop;t&&t(b);e-d>0&&a&&c("gkx")("26394")&&(b.animate==null?void 0:b.animate([{transform:"translateY("+(e-d)+"px)"},{transform:"translateY(0)"}],{duration:150,easing:"ease-out",iterations:1}))}M.current=b.scrollTop},[q,t]),ja=k(function(){var a=F.current;if(a==null)return;t&&t(a);if(a.scrollTop===M.current)return;M.current=null;N();O(a);u&&u()},[N,t,u,O]),T=k(function(){S(!1),N()},[S,N]);I=k(function(){return S(!0)},[S]);var U=c("useResizeObserver")(I),V=c("useResizeObserver")(T),ka=k(function(a){U(a),H.current=a},[U]),la=k(function(a){V(a),F.current=a},[V]),W=k(function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;M.current=b.scrollTop;a!==c&&!(a<=c&&L.current==="bottom")&&(b.scrollTop+=a-c,M.current=b.scrollTop,t&&t(b))}},[t]),X=k(function(){if(F.current!=null){var a=F.current;a.scrollTop=a.scrollHeight;M.current=a.scrollTop;t&&t(a)}K(L.current=e?"bottom":"top")},[e,t]);function ma(){if(F.current!=null){var a=F.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ha;M.current=a.scrollTop;return b}else return!1}var Y=m(null),Z=k(function(a,b){var d=Y.current,e=F.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];(a.boundingClientRect.height!==0||a.boundingClientRect.width!==0)&&b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},[]),$=k(function(){var a=F.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;M.current=a.scrollTop;return b}return!1},[]);function na(){var a=F.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};M.current=a.scrollTop;return b}ca(b,function(){return{doesContentFillScroll:$,getScrollAreaElement:function(){return F.current},getScrollerMeasurements:na,isAtBottom:ma,onCloseToBottom:Z,resetScrollPosition:Q,restoreScrollPosition:P,scrollToBottom:X}},[$,Z,Q,P,X]);var oa=l(function(){return j.jsx(n,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(a){var b=H.current,c=F.current;if(b!=null&&c!=null&&!(f&&c.scrollTop===0)&&(!a.length||D.length&&a[0].key!==D[0].key&&a.length!==D.length)){a=b.clientHeight;M.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},children:D})},[D,W,f]);return j.jsx(c("BaseScrollableAreaContext").Provider,{value:a,children:j.jsx("div",{className:(h||(h=c("stylex")))(d),children:j.jsx("div",{className:h(o.wrapper,J==="bottom"&&o.disableScrollAnchoring),children:j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(o.scrollArea,a),"data-testid":void 0,onScroll:ja,ref:la,style:b,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!p&&j.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=T)}})})}),j.jsxs(n,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(){if(J==="bottom"){var a=G.current,b=F.current;if(a!=null&&b!=null){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[j.jsx("div",{className:h(ia),ref:G,children:f?x&&x():z&&z()}),v!=null?v():null]}),y!=null&&y(),j.jsx("div",{className:h(D.length!==0&&!f&&!e&&o.contentMinHeight),children:j.jsxs("div",{className:"x1n2onr6",ref:ka,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!p&&j.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x17qophe x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=S)}})})}),oa,j.jsx("div",{className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:Y}),e?w&&w():z&&z()]})})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";d=e(a);g.default=d}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["CometHeroHoldTrigger.react","PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useEffect,aa=b.useLayoutEffect,m=b.useMemo,n=b.useRef,ba=b.useState,o=b.useTransition;function p(a,b){return b==null?a:a.bounds(b)}function q(a){if(a instanceof Promise)throw a;return a}function r(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return(i||(i=d("PromiseOrValue"))).map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function ca(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var h=e===void 0?!0:e;e=a.hasReachedTop;var i=e===void 0?!0:e;e=a.imperativeRef;var s=a.initialAnchor,da=a.initialRenderComplete,t=a.onPageLoaded,u=a.onReachingBottom,v=a.onReachingTop,ea=a.onScroll,fa=a.onUserScroll,w=a.pageSize,x=w===void 0?15:w;w=a.renderEmptyContent;var y=a.renderFooter,ga=a.renderHeader,ha=a.renderHeaderContentSpacer,z=a.renderItem,ia=a.renderLoadingAnimation,ja=a.headerStyle,A=a.isSufficientContentLoadedAbove;A=A===void 0?ca:A;var ka=a.isSufficientContentLoadedBelow,B=a.snapThreshold;B=B===void 0?5:B;var C=a.setScrollTopInResetForBottomAnchor;C=C===void 0?!0:C;var D=a.data,E=D.ascending,F=D.descending;D=a.xstyle;a=a.holdTriggerElementsCount;var G=o();G[0];var H=G[1],I=c("useStableBounds")(b);if(s!=null&&s!=="top"&&s!=="bottom"){G=p(F,I).bounds({lt:s}).iterator(new WeakMap()).next();if(G instanceof Promise)throw G;s=G.done?"top":G.value[0]}var J=d("useStableValue").useStableValue(s,c("deepEquals")),K=m(function(){var a,b;J==="top"||J==null?(a=d("ReQL").empty(),b=g==="asc"?E:F):J==="bottom"?(a=g==="asc"?F:E,b=d("ReQL").empty()):(a=g==="asc"?F.bounds({lt:J}):E.bounds({gt:J}),b=g==="asc"?E.bounds({gte:J}):F.bounds({lte:J}));return{after:b,before:a}},[J,E,F,g]),L=n(!1),M=m(function(){var a=q(d("SortedAsyncIterable").toArray(p(K.before,I).take(J==="bottom"?x:0),f.id+":200")).reverse(),b=q(d("SortedAsyncIterable").toArray(p(K.after,I).take(x),f.id+":207")),c=J==="bottom"?!0:b.length<x,e=J==="top"||J==null?!0:J==="bottom"?a.length<x:!1;return{firstKey:e?void 0:J==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[J,I,K.after,K.before,x]);b=ba(function(){return{anchor:J,iterables:K,values:M}});G=b[0];var N=b[1];s=G.iterables===K&&G.anchor===J;b=s?G.values:M;var O=b.firstKey,P=b.lastKey,Q=d("ReQLSuspense").useArray(function(){return r(O==null?p(K.before,I).take(x):p(K.before,I).bounds(g==="asc"?{gte:O}:{lte:O}))},[I,g,O,K.before,x],f.id+":242"),R=m(function(){return[].concat(Q).reverse()},[Q]);l(function(){R.length===x&&O==null&&H(function(){return N({anchor:J,iterables:K,values:{firstKey:R[0][0],lastKey:P}})})},[R,O,J,K,P,x]);var S=d("ReQLSuspense").useArray(function(){return r(P==null?p(K.after,I).take(x):p(K.after,I).bounds(g==="asc"?{lte:P}:{gte:P}))},[I,g,K.after,P,x],f.id+":269");l(function(){S.length===x&&P==null&&H(function(){return N({anchor:J,iterables:K,values:{firstKey:O,lastKey:S[S.length-1][0]}})})},[S,O,J,K,P,x]);var T=m(function(){return[].concat(R,S)},[R,S]),U=d("ReQLSuspense").useFirst(function(){return T.length===0?d("ReQL").empty():p(K.before,I).bounds(g==="asc"?{lt:T[0][0]}:{gt:T[0][0]})},[T,I,g,K.before],f.id+":296")==null,V=d("ReQLSuspense").useFirst(function(){return T.length===0?d("ReQL").empty():p(K.after,I).bounds(g==="asc"?{gt:T[T.length-1][0]}:{lt:T[T.length-1][0]})},[T,I,g,K.after],f.id+":306")==null;s=o();var W=s[0],la=s[1];G=k(function(){if(L.current||W)return;if(V){if(!h&&u!=null)return u()}else{L.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(p(g==="asc"?E:F,I).bounds(g==="asc"?{gt:T[T.length-1][0]}:{lt:T[T.length-1][0]}).take(x),f.id+":333")),function(a){L.current=!1,t!=null&&t("bottom",T[T.length-1][1],a.map(function(a){return a[1]})),la(function(){var b;return N({anchor:J,iterables:K,values:{firstKey:O,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:T[T.length-1][0]}})})});return}},[W,V,h,u,g,E,F,I,T,x,t,O,K,J]);b=o();var X=b[0],ma=b[1],Y=n(!0);s=k(function(){if(L.current||X)return;if(U){if(!i)return v==null?void 0:v();return}L.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(p(g==="asc"?F:E,I).bounds(g==="asc"?{lt:T[0][0]}:{gt:T[0][0]}).take(x),f.id+":405")),function(a){L.current=!1,t!=null&&(Y.current?(Y.current=!1,t("top",null,T.slice(0,x).map(function(a){return a[1]}).reverse())):t("top",T[0][1],a.map(function(a){return a[1]}))),a.reverse(),ma(function(){var b;return N({anchor:J,iterables:K,values:{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:T[0][0],lastKey:P}})})})},[X,U,i,v,g,F,E,I,T,x,t,P,K,J]);var Z=U&&i?0:1,$=T.length-(V&&h?0:1);b=m(function(){var a=new Array($>Z?$-Z:0);for(var b=Z;b<$;b++){var c;a[b-Z]=z(T[b][1],{nextItem:(c=T[b+1])==null?void 0:c[1],previousItem:(c=T[b-1])==null?void 0:c[1]})}return a},[T,Z,z,$]);var na=n(null);e=c("useMergeRefs")(na,e);aa(function(){var a;(a=na.current)==null?void 0:a.resetScrollPosition()},[J]);var oa=k(function(){return y==null?void 0:y(T.length>0?T[T.length-1][1]:void 0)},[T,y]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometHeroHoldTrigger.react"),{description:"ReQLPaginatedListLoadingMoreItems",hold:a!=null&&!i&&T.length<a}),j.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:V&&h,hasReachedTop:U&&i,headerStyle:ja,initialAnchor:J==="bottom"?"bottom":"top",initialRenderComplete:da,isSufficientContentLoadedAbove:A,isSufficientContentLoadedBelow:ka,onReachingBottom:G,onReachingTop:s,onScroll:ea,onUserScroll:fa,pageSize:x,ref:e,renderEmptyContent:w,renderFooter:oa,renderHeader:ga,renderHeaderContentSpacer:ha,renderLoadingAnimation:ia,setScrollTopInResetForBottomAnchor:C,snapThreshold:B,xstyle:D})]})}a.displayName=a.name+" [from "+f.id+"]";g.default=a}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);